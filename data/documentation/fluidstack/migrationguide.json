{"hierarchy":{"paths":[["doc:\/\/fluidinterfacekit.FluidStack\/documentation\/FluidStack"]]},"sections":[],"kind":"article","primaryContentSections":[{"content":[{"anchor":"Drop-UINavigationController-and-Modal-presentation-use-FluidStackController-instead","text":"Drop UINavigationController and Modal-presentation, use FluidStackController instead.","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Try to think about creating all of the transitions with UINavigationController."},{"type":"text","text":" "},{"type":"text","text":"Because it could say FluidStackController is just like yet another UINavigationController."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Motivation is here (Motivation section): "},{"type":"reference","identifier":"https:\/\/muukii.github.io\/FluidInterfaceKit\/documentation\/fluidinterfacekit\/","isActive":true}],"type":"paragraph"},{"anchor":"Every-single-transition-are-dispatched-by-fluidPush-on-FluidStackController","text":"Every single transition are dispatched by fluidPush on FluidStackController","level":2,"type":"heading"},{"syntax":"swift","code":["sourceViewController.fluidPush(","  destinationViewController, ","  target: .current,","  relation: .modality",")"],"type":"codeListing"},{"anchor":"Always-use-fluidPop-to-dismiss-instead-of-UIViewControllerdismiss-UINavigationControllerpopViewController","text":"Always use fluidPop to dismiss instead of UIViewController.dismiss, UINavigationController.popViewController","level":2,"type":"heading"},{"syntax":"swift","code":["destinationViewController.fluidPop()"],"type":"codeListing"},{"anchor":"fuidPush-accepts-only-specified-types-of-UIViewController","text":"fuidPush accepts only specified types of UIViewController","level":2,"type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"FluidViewController"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"FluidPopoverViewController"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"FluidRideauViewController (in extended module)"}]}]}],"type":"unorderedList"},{"anchor":"How-view-tree-works","text":"How view-tree works","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Tree (abstract)"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"UIWindow"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"View ← UIViewController","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"View ← FluidStackController","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"View ← (pushed content view controller)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"View ← (pushed content view controller)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"View ← (pushed content view controller)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]}]}]}],"type":"unorderedList"},{"anchor":"Avoid-using-modal-presentation","text":"Avoid using modal-presentation","level":2,"type":"heading"},{"inlineContent":[{"type":"codeVoice","code":"fluidPush"},{"type":"text","text":" fails in a modally presented view controller unless that has FluidStackController."}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"UIWindow"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"View ← UIViewController","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"View ← FluidStackController"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"…","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"TransitionView (created by modal-presentation, style: .fullScreen)"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"Basically, modal-presentation adds a new container view to host UIViewController on top of the current tree."},{"type":"text","text":" "},{"type":"text","text":"Unless specifying presentation-context or setting modal-presentation style of contextual options."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"As FluidStackController works similarly to UINavigationController, it needs to create another FluidStackController on top of the modal in order to display another view controller above the modal."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Or present a FluidStackController as modal-presentation, then pushing view controllers."}],"type":"paragraph"},{"anchor":"To-display-UIAlertController","text":"To display UIAlertController","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"UIAlertController is built on top of some internal APIs."},{"type":"text","text":" "},{"type":"text","text":"We can’t change modal-presentations style, always they present as full-screen."},{"type":"text","text":" "},{"type":"text","text":"Adding as a child view controller won’t work."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Use the pure way in UIKit’s ViewController"}],"type":"paragraph"},{"syntax":"swift","code":["let alert: UIAlertController","","self.present(alert, animated: true)"],"type":"codeListing"},{"anchor":"Setting-up-to-support-your-app-display-by-fluid-push","text":"Setting up to support your app display by fluid-push","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"As to push a view controller to UINavigationController, you must prepare UINavigationController in the hierarchy. fluid-push needs the same thing."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"At least the app must have one or more FluidStackController to host view controllers."},{"type":"text","text":" "},{"type":"text","text":"Wrapping the entrypoint view controller with FluidStackController as following,"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Before"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"UIWindow"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Entrypoint(UIViewController)"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"After"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"UIWindow"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Stack (FluidStackController)"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Entrypoint(UIViewController)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"anchor":"How-fluid-push-works","text":"How fluid-push works","level":2,"type":"heading"},{"inlineContent":[{"type":"codeVoice","code":"fluidPush"},{"type":"text","text":" method gets a target parameter."},{"type":"text","text":" "},{"type":"text","text":"This parameter indicates how to find a target stack controller to display the given view controller."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"As built-in paramter, we have "},{"type":"codeVoice","code":"current"},{"type":"text","text":", "},{"type":"codeVoice","code":"nearestAncestor"},{"type":"text","text":", "},{"type":"codeVoice","code":"root"},{"type":"text","text":" and "},{"type":"codeVoice","code":"identifier(_:)"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"It’s like pushing a view controller into another UINavigationController from descendants."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"FluidStackController has an identifier, we can create custom query that uses the identifiers."}],"type":"paragraph"},{"syntax":"swift","code":["extension FluidStackController.Identifier {","","  \/\/\/ front of tab","  public static let loggedOut: Self = .init(\"loggedOut\")","","  \/\/\/ front of tab","  public static let loggedIn: Self = .init(\"loggedIn\")","","}","","extension UIViewController.FluidStackFindStrategy {","","  \/**","  Find stack controller that can display as full-screen.","  (Above TabBarControler.)","  *\/","  public static let fullScreen: Self = .matching(","    name: \"fullScreen\",","    strategies: [","      .identifier(.loggedIn),","      .identifier(.loggedOut),","      .root,","    ]","  )","","}"],"type":"codeListing"},{"code":["sourceViewController.fluidPush(","  destinationViewController, ","  target: .fullScreen,","  relation: .modality",")"],"syntax":"swift","type":"codeListing"}],"kind":"content"}],"identifier":{"url":"doc:\/\/fluidinterfacekit.FluidStack\/documentation\/FluidStack\/MigrationGuide","interfaceLanguage":"swift"},"schemaVersion":{"minor":3,"patch":0,"major":0},"metadata":{"role":"article","modules":[{"name":"FluidStack"}],"roleHeading":"Article","title":"Migration Guide"},"variants":[{"paths":["\/documentation\/fluidstack\/migrationguide"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://fluidinterfacekit.FluidStack/documentation/FluidStack":{"abstract":[{"inlineContent":[{"type":"text","text":"FluidInterfaceKit"}],"type":"strong"},{"type":"text","text":" provides the advanced infrastructure for your iPhone apps."}],"kind":"symbol","identifier":"doc:\/\/fluidinterfacekit.FluidStack\/documentation\/FluidStack","type":"topic","role":"collection","title":"FluidStack","url":"\/documentation\/fluidstack"},"https://muukii.github.io/FluidInterfaceKit/documentation/fluidinterfacekit/":{"type":"link","identifier":"https:\/\/muukii.github.io\/FluidInterfaceKit\/documentation\/fluidinterfacekit\/","title":"https:\/\/muukii.github.io\/FluidInterfaceKit\/documentation\/fluidinterfacekit\/","url":"https:\/\/muukii.github.io\/FluidInterfaceKit\/documentation\/fluidinterfacekit\/","titleInlineContent":[{"text":"https:\/\/muukii.github.io\/FluidInterfaceKit\/documentation\/fluidinterfacekit\/","type":"text"}]}}}